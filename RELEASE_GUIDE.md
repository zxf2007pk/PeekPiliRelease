# ğŸš€ GitHub Release å¿«é€Ÿå‘å¸ƒæŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å¿«é€Ÿå°†é¡¹ç›®å‘å¸ƒåˆ° GitHub Releaseã€‚

## ğŸ“‹ å‡†å¤‡å·¥ä½œ

### 1. åˆå§‹åŒ– Git ä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

```bash
cd d:\pydemo\tvbox_config-master
git init
git add .
git commit -m "åˆå§‹æäº¤"
```

### 2. è¿æ¥åˆ° GitHub ä»“åº“

```bash
# åœ¨ GitHub ä¸Šåˆ›å»ºæ–°ä»“åº“åï¼Œæ·»åŠ è¿œç¨‹åœ°å€
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å.git
git branch -M main
git push -u origin main
```

### 3. å®‰è£… GitHub CLIï¼ˆæ¨èæ–¹æ³•ï¼‰

**Windows:**
```powershell
# ä½¿ç”¨ Chocolatey
choco install gh

# æˆ–ä¸‹è½½å®‰è£…åŒ…
# https://cli.github.com/
```

**macOS:**
```bash
brew install gh
```

**Linux:**
```bash
# Ubuntu/Debian
sudo apt install gh

# æˆ–æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£
# https://cli.github.com/
```

**ç™»å½• GitHub:**
```bash
gh auth login
```

## ğŸ¯ ä¸‰ç§å¿«é€Ÿå‘å¸ƒæ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘å¸ƒè„šæœ¬ï¼ˆæœ€ç®€å• â­æ¨èâ­ï¼‰

#### Windows PowerShell:

1. **å‡†å¤‡å®‰è£…åŒ…**
   - å°†ç¼–è¯‘å¥½çš„å®‰è£…åŒ…æ”¾å…¥ `release/` æ–‡ä»¶å¤¹
   - ä¾‹å¦‚ï¼š`app-v1.0.0.apk`, `app-v1.0.0.exe` ç­‰

2. **è¿è¡Œå‘å¸ƒè„šæœ¬**
   ```powershell
   .\scripts\release.ps1 -Version v1.0.0 -Notes "æ–°ç‰ˆæœ¬å‘å¸ƒï¼Œä¿®å¤äº†è‹¥å¹²é—®é¢˜"
   ```

3. **è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆï¼š**
   - âœ… æ£€æŸ¥ GitHub CLI å’Œç™»å½•çŠ¶æ€
   - âœ… æ£€æŸ¥ release æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶
   - âœ… åˆ›å»º Git æ ‡ç­¾
   - âœ… æ¨é€åˆ° GitHub
   - âœ… åˆ›å»º Release å¹¶ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶

#### Linux/macOS:

1. **ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™**
   ```bash
   chmod +x scripts/release.sh
   ```

2. **è¿è¡Œè„šæœ¬**
   ```bash
   ./scripts/release.sh -v v1.0.0 -n "æ–°ç‰ˆæœ¬å‘å¸ƒ"
   ```

### æ–¹æ³•äºŒï¼šä½¿ç”¨ GitHub CLI ç›´æ¥å‘å¸ƒ

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd d:\pydemo\tvbox_config-master

# åˆ›å»ºæ ‡ç­¾
git tag -a v1.0.0 -m "Release v1.0.0"
git push origin v1.0.0

# åˆ›å»º Release å¹¶ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶
gh release create v1.0.0 \
  --title "Release v1.0.0" \
  --notes "æ–°ç‰ˆæœ¬å‘å¸ƒè¯´æ˜" \
  release/*
```

### æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ GitHub Actionsï¼ˆè‡ªåŠ¨åŒ–ï¼‰

1. **å‡†å¤‡å®‰è£…åŒ…**
   - å°†å®‰è£…åŒ…æ”¾å…¥ `release/` æ–‡ä»¶å¤¹

2. **åˆ›å»º Git æ ‡ç­¾å¹¶æ¨é€**
   ```bash
   git tag v1.0.0
   git push origin v1.0.0
   ```
   - GitHub Actions ä¼šè‡ªåŠ¨æ£€æµ‹æ ‡ç­¾å¹¶åˆ›å»º Release

3. **æˆ–æ‰‹åŠ¨è§¦å‘å·¥ä½œæµ**
   - åœ¨ GitHub ä»“åº“é¡µé¢ï¼Œè¿›å…¥ **Actions** æ ‡ç­¾
   - é€‰æ‹© **"è‡ªåŠ¨å‘å¸ƒ Release"** å·¥ä½œæµ
   - ç‚¹å‡» **"Run workflow"**
   - å¡«å†™ç‰ˆæœ¬å·å’Œå‘å¸ƒè¯´æ˜
   - ç‚¹å‡»è¿è¡Œ

## ğŸ“¦ æ–‡ä»¶å‘½åå»ºè®®

å»ºè®®æŒ‰ç…§ä»¥ä¸‹æ ¼å¼å‘½åå®‰è£…åŒ…ï¼Œæ–¹ä¾¿ç”¨æˆ·è¯†åˆ«ï¼š

- **Android**: 
  - `app-android-v1.0.0.apk`
  - `app-android-v1.0.0-arm64.apk`
  - `app-android-v1.0.0-x86.apk`

- **iOS**: 
  - `app-ios-v1.0.0.ipa`

- **Windows**: 
  - `app-windows-v1.0.0.exe`
  - `app-windows-v1.0.0-x64.zip`
  - `app-windows-v1.0.0-x86.zip`

- **macOS**: 
  - `app-macos-v1.0.0.dmg`
  - `app-macos-v1.0.0.zip`

## âœ… å‘å¸ƒæ£€æŸ¥æ¸…å•

å‘å¸ƒå‰è¯·ç¡®è®¤ï¼š

- [ ] æ‰€æœ‰å®‰è£…åŒ…å·²æ”¾å…¥ `release/` æ–‡ä»¶å¤¹
- [ ] æ–‡ä»¶å‘½åæ¸…æ™°æ˜“æ‡‚
- [ ] å·²æµ‹è¯•å®‰è£…åŒ…å¯ä»¥æ­£å¸¸å®‰è£…å’Œè¿è¡Œ
- [ ] å·²æ›´æ–° `CHANGELOG.md` æ–‡ä»¶
- [ ] å·²å‡†å¤‡å‘å¸ƒè¯´æ˜
- [ ] å·²æäº¤æ‰€æœ‰ä»£ç æ›´æ”¹åˆ° Git
- [ ] ç‰ˆæœ¬å·ç¬¦åˆè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼ˆvä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢å·ï¼‰

## ğŸ”§ è„šæœ¬å‚æ•°è¯´æ˜

### PowerShell è„šæœ¬ (`release.ps1`)

```powershell
.\scripts\release.ps1 `
  -Version v1.0.0 `              # å¿…éœ€ï¼šç‰ˆæœ¬å·
  -Notes "å‘å¸ƒè¯´æ˜" `             # å¯é€‰ï¼šå‘å¸ƒè¯´æ˜
  -Repo "owner/repo" `           # å¯é€‰ï¼šä»“åº“åï¼ˆä¼šè‡ªåŠ¨æ£€æµ‹ï¼‰
  -Draft `                        # å¯é€‰ï¼šåˆ›å»ºè‰ç¨¿ Release
  -Prerelease                     # å¯é€‰ï¼šæ ‡è®°ä¸ºé¢„å‘å¸ƒç‰ˆæœ¬
```

### Bash è„šæœ¬ (`release.sh`)

```bash
./scripts/release.sh \
  -v v1.0.0 \                     # å¿…éœ€ï¼šç‰ˆæœ¬å·
  -n "å‘å¸ƒè¯´æ˜" \                 # å¯é€‰ï¼šå‘å¸ƒè¯´æ˜
  -r "owner/repo" \               # å¯é€‰ï¼šä»“åº“åï¼ˆä¼šè‡ªåŠ¨æ£€æµ‹ï¼‰
  --draft \                       # å¯é€‰ï¼šåˆ›å»ºè‰ç¨¿ Release
  --prerelease                    # å¯é€‰ï¼šæ ‡è®°ä¸ºé¢„å‘å¸ƒç‰ˆæœ¬
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶å¤§å°é™åˆ¶**
   - GitHub å…è´¹è´¦æˆ·å•ä¸ªæ–‡ä»¶é™åˆ¶ï¼š100MB
   - å¦‚æœæ–‡ä»¶è¶…è¿‡ 50MBï¼Œå»ºè®®ä½¿ç”¨ Git LFS

2. **æ•æ„Ÿä¿¡æ¯**
   - ä¸è¦ä¸Šä¼ åŒ…å«å¯†é’¥ã€å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯çš„æ–‡ä»¶
   - æ£€æŸ¥ `.gitignore` ç¡®ä¿æ•æ„Ÿæ–‡ä»¶ä¸ä¼šè¢«æäº¤

3. **ç‰ˆæœ¬å·è§„èŒƒ**
   - å»ºè®®ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼š`vä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·`
   - ä¾‹å¦‚ï¼š`v1.0.0`, `v1.1.0`, `v2.0.0`

4. **Git æ ‡ç­¾**
   - æ ‡ç­¾ä¸€æ—¦æ¨é€åˆ° GitHubï¼Œå»ºè®®ä¸è¦åˆ é™¤
   - å¦‚æœæ ‡ç­¾å·²å­˜åœ¨ï¼Œè„šæœ¬ä¼šæç¤ºæ˜¯å¦è¦†ç›–

## ğŸ› å¸¸è§é—®é¢˜

### Q: GitHub CLI ç™»å½•å¤±è´¥ï¼Ÿ

**A:** å°è¯•é‡æ–°ç™»å½•ï¼š
```bash
gh auth logout
gh auth login
```

### Q: æƒé™ä¸è¶³ï¼Ÿ

**A:** ç¡®ä¿æ‚¨æœ‰ä»“åº“çš„å†™å…¥æƒé™ï¼Œå¹¶ä¸” GitHub CLI å·²æ­£ç¡®æˆæƒã€‚

### Q: æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼Ÿ

**A:** 
- æ£€æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦è¶…è¿‡é™åˆ¶
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- å°è¯•æ‰‹åŠ¨åœ¨ GitHub ç½‘é¡µä¸Šä¸Šä¼ 

### Q: è„šæœ¬æ‰§è¡Œæƒé™é”™è¯¯ï¼ˆLinux/macOSï¼‰ï¼Ÿ

**A:** 
```bash
chmod +x scripts/release.sh
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [GitHub Releases æ–‡æ¡£](https://docs.github.com/cn/repositories/releasing-projects-on-github)
- [GitHub CLI æ–‡æ¡£](https://cli.github.com/manual/)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/lang/zh-CN/)

## ğŸ‰ å®Œæˆï¼

å‘å¸ƒæˆåŠŸåï¼Œæ‚¨å¯ä»¥åœ¨ä»¥ä¸‹åœ°å€æŸ¥çœ‹ Releaseï¼š
```
https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å/releases
```

ç”¨æˆ·å¯ä»¥ç›´æ¥ä» Release é¡µé¢ä¸‹è½½å®‰è£…åŒ…ã€‚

